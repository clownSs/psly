<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>视频分析</title>
		<link rel="stylesheet" type="text/css" href="./css/resetcss.css"/>
		<link rel="stylesheet" type="text/css" href="./css/psly_spfx.css"/>
		<link rel="stylesheet" type="text/css" href="css/icons.css"/>
		<script src="http://libs.baidu.com/jquery/2.1.4/jquery.min.js"></script>
		<script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts-en.common.min.js"></script>
		<script src='http://api.map.baidu.com/api?v=2.0&ak=1pSTowk3vMReXCQA08ypPGfGoOaZI0qk'></script>
		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	</head>
	<body>
		<div id="conBox">
			
			<div id="allmap" style="width: 100%;"></div>
			
			<section id="main">
				<header id="header" class="clearfix">
					<div class="header1">
						<img class="logo" src="./images/school_icon.png" alt="">
						<h1 class="title1">平山楼宇-</h1>
						<h2 class="title2">视频分析</h2>
					</div>
					<div class="header2 ">
						<ul class="titleImg clearfix">
							<li><span class="icon-statistics nav-top " data-href="psly_sjtj.html"></span></li>
							<li><span class="icon-equipment nav-top " data-href="psly_sbkz.html"></li>
							<li><span class="icon-camera nav-top active-icon" data-href="psly_spfx.html"></li>
							<li><span class="icon-incident nav-top " data-href="psly_rcsj.html"></li>
							<li><span class="icon-emergency_events nav-top " data-href="psly_afsj.html"></li>
							<li><span class="icon-location nav-top " data-href="psly_tsdw.html"></li>
							<li><span class="icon-park nav-top" data-href="psly_tcc.html"></li>
						</ul>
					</div>
					<div class="header3">
						<div class="showBig"></div>
						<input type="text" placeholder="如阳光国际...">
						<div class="search_icon"></div>
						<div class="maxSearch_icon"></div>
						<div class="Setting_icon"></div>
						<div class="time">2019年6月6日 星期四 农历五月初四</div>
					</div>
				</header>
				<div class="subject" id="content">
					<div class="left" id="left">
						<div class="content">
							<div class="title">公共视频</div>
							<div class="item1">
								<ul class="clearfix">
									<li><span> 4 </span></li>
									<li><span> 8 </span></li>
									<li><span> 12 </span></li>
									<li><span> 16 </span></li>
									<li><span> 32 </span></li>
								</ul>
							</div>
							<div class="search_box">
								<img class="search_min_icon" src="./images/search_min_icon.png" alt="">
				                <input type="text" placeholder="如阳光国际......">
				                <div class="more_icon"></div>
				                <span>更多</span>
				            </div>
							<ul class="item">
								<li>
									<div class="video">
										<video style="width: 100%;height: 94%;object-fit: fill;" autoplay="autoplay" loop="loop">
											<source src="./video/04.mp4" type="video/mp4"></source>
										</video>
										<div style="position: absolute;top:30%;color: red;width: 100%;background-color: #93D1FF;">
											<div style="width: 16%;float: left;margin-left: 4%;"><img src="./images/minIcon_001.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_002.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_003.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_004.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_005.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_006.png"/></div>
										</div>
									</div>
								</li>
								<li>
									<div class="video">
										<video style="width: 100%;height: 94%;object-fit: fill;" autoplay="autoplay" loop="loop">
											<source src="./video/04.mp4" type="video/mp4"></source>
										</video>
										<div style="position: absolute;top:62%;color: red;width: 100%;background-color: #93D1FF;">
											<div style="width: 16%;float: left;margin-left: 4%;"><img src="./images/minIcon_001.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_002.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_003.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_004.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_005.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_006.png"/></div>
										</div>
									</div>
								</li>
								<li>
									<div class="video">
										<video style="width: 100%;height: 94%;object-fit: fill;" autoplay="autoplay" loop="loop">
											<source src="./video/04.mp4" type="video/mp4"></source>
										</video>
										<div style="position: absolute;top:94%;color: red;width: 100%;background-color: #93D1FF;">
											<div style="width: 16%;float: left;margin-left: 4%;"><img src="./images/minIcon_001.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_002.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_003.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_004.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_005.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_006.png"/></div>
										</div>
									</div>
								</li>
								<li>
									<div class="video">
										<video style="width: 100%;height: 94%;object-fit: fill;" autoplay="autoplay" loop="loop">
											<source src="./video/04.mp4" type="video/mp4"></source>
										</video>
										<div style="position: absolute;top:126%;color: red;width: 100%;background-color: #93D1FF;">
											<div style="width: 16%;float: left;margin-left: 4%;"><img src="./images/minIcon_001.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_002.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_003.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_004.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_005.png"/></div>
											<div style="width: 16%;float: left;"><img src="./images/minIcon_006.png"/></div>
										</div>
									</div>
								</li>
							</ul>
				
						</div>
						<div class="icon"></div>
					</div>
					
					<div class="bottom" id="bottom">
						<div class="monitor">
							<img class="sxt_bad_icon" src="./images/bad_icon.png" />&nbsp;&nbsp;故障&nbsp;&nbsp;
							<img class="sxt_icon" src="./images/zc_icon.png" />&nbsp;&nbsp;运行正常
						</div>
						<div class="floor">
							<select name="floor" lay-verify="" class="floorBtn">
							  <option value="">1楼</option>
							  <option value="010">2楼</option>
							</select>
						</div>
						
						<div class="icon"></div>
						<div class="content">
							<div class="title">人行出入口</div>
							<ul class="item">
								<li>
									<div class="pic"></div>
								</li>
								<li>
									<div class="introduce">
										<div class="identityTitle">
											<div class="sfxx_icon"></div>
											<span>身份信息</span>
										</div>
										<div class="identityphoto">
											<div class="pic"></div>
										</div>
										<div class="info">
											<span class="term">姓名：</span><span class="cont">李婷</span><br />
											<span class="term">性别：</span><span class="cont">女</span><br />
											<span class="term">异常：</span><span class="cont">无</span><br />
											<span class="term">备注：</span><span class="cont">职员</span><br />
										</div>
									</div>
								</li>
							</ul>
							<ul class="item1">
								<li>
									<div class="pic"></div>
								</li>
								<li>
									<div class="introduce">
										<div class="identityTitle">
											<div class="sfxx_icon"></div>
											<span>身份信息</span>
										</div>
										<div class="identityphoto">
											<div class="pic"></div>
										</div>
										<div class="info">
											<span class="term">姓名：</span><span class="cont">李婷</span><br />
											<span class="term">性别：</span><span class="cont">女</span><br />
											<span class="term">异常：</span><span class="cont">无</span><br />
											<span class="term">备注：</span><span class="cont">职员</span><br />
										</div>
									</div>
								</li>
							</ul>
						</div>
					</div>
					
					<div class="right" id="right">
						<div class="icon"></div>
						<div class="top">
							<div class="title">设备信息</div>
							<div class="statis">总设备（台）</div><span>480</span>
							<div class="clearfix">
								<div id="myTable3" style="width: 25%;height: 90px;float: left;"></div>
								<div id="myTable4" style="width: 25%;height: 90px;float: left;"></div>
								<div id="myTable5" style="width: 25%;height: 90px;float: left;"></div>
								<div id="myTable6" style="width: 25%;height: 90px;float: left;"></div>
							</div>
						</div>
						<div class="content">
							<div class="title">停车场</div>
							<div class="clearfix" style="margin-top: 50px;padding-left: 5%;padding-right: 5%;">
								<div class="video" style="width: 45%;height: 280px;float: left;margin-right: 5%;position: relative;display: inline-block;">
									<video style="width: 100%;height: 94%;object-fit: fill;" autoplay="autoplay" loop="loop">
										<source src="./video/04.mp4" type="video/mp4"></source>
									</video>
									<div style="position: absolute;bottom: 0;color: red;width: 100%;background-color: #93D1FF;">
										<div style="width: 16%;float: left;margin-left: 4%;"><img src="./images/minIcon_001.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_002.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_003.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_004.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_005.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_006.png"/></div>
									</div>
								</div>
								<div class="clearfix1" style="display: inline-block;float: left;width: 50%;height: 280px;background: url(./images/bj_01.png) no-repeat;background-size: 100% 100%;">
									<div class="clearfix" style="width: 56%;">
										<img src="./images/clxx_icon.png" style="width: 35px;height: 27px;margin-top: 5px;margin-left: 10%;float: left;"/>
										<span style="font-size: 1px;color: #0082FD;margin-top: 5px;float: left;">&nbsp;&nbsp;车辆信息</span>
									</div>
									<div class="videoItem">
										<img src="./images/video.png" style="width: 100%;height: 150%;object-fit: fill"/>
									</div>
									<div style="margin-top: 10px;">
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">车牌:</span>
										<span style="font-size: 10px;color:#0082FD;">渝F300D5</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">颜色:</span>
										<span style="font-size: 10px;color:#0082FD;">白色</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">车型:</span>
										<span style="font-size: 10px;color:#0082FD;">小轿车</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">类别:</span>
										<span style="font-size: 10px;color:#0082FD;">临时停车</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">进入:</span>
										<span style="font-size: 10px;color:#0082FD;">2019.05.30 08.00</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">出去:</span>
										<span style="font-size: 10px;color:#0082FD;">-</span>
									</div>
								</div>
							</div>
							<HR align=center width=100% color=#0082FD SIZE=1>
							<div class="clearfix" style="margin-top: 10px;display: inline-block;padding-left: 5%;padding-right: 5%;">
								<div class="video" style="display: inline-block;width: 45%;height: 280px;float: left;margin-right: 5%;position: relative;">
									<video style="width: 100%;height: 94%;object-fit: fill;" autoplay="autoplay" loop="loop">
										<source src="./video/04.mp4" type="video/mp4"></source>
									</video>
									<div style="position: absolute;bottom: 0;color: red;width: 100%;background-color: #93D1FF;">
										<div style="width: 16%;float: left;margin-left: 4%;"><img src="./images/minIcon_001.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_002.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_003.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_004.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_005.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_006.png"/></div>
									</div>
								</div>
								<div class="clearfix1" style="display: inline-block;float: left;width: 50%;height: 280px;background: url(./images/bj_01.png) no-repeat;background-size: 100% 100%;">
									<div class="clearfix" style="width: 56%;">
										<img src="./images/clxx_icon.png" style="width: 35px;height: 27px;margin-top: 5px;margin-left: 10%;float: left;"/>
										<span style="font-size: 1px;color: #0082FD;margin-top: 5px;float: left;">&nbsp;&nbsp;车辆信息</span>
									</div>
									<div class="videoItem">
										<img src="./images/video.png" style="width: 100%;height: 150%;object-fit: fill"/>
									</div>
									<div style="margin-top: 10px;">
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">车牌:</span>
										<span style="font-size: 10px;color:#0082FD;">渝F300D5</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">颜色:</span>
										<span style="font-size: 10px;color:#0082FD;">白色</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">车型:</span>
										<span style="font-size: 10px;color:#0082FD;">小轿车</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">类别:</span>
										<span style="font-size: 10px;color:#0082FD;">临时停车</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">进入:</span>
										<span style="font-size: 10px;color:#0082FD;">2019.05.30 08.00</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">出去:</span>
										<span style="font-size: 10px;color:#0082FD;">-</span>
									</div>
								</div>
							</div>
							<HR align=center width=100% color=#0082FD SIZE=1>
							<div class="clearfix" style="display: inline-block;margin-top: 10px;padding-left: 5%;padding-right: 5%;">
								<div class="video" style="display: inline-block;width: 45%;height: 280px;float: left;margin-right: 5%;position: relative;">
									<video style="width: 100%;height: 94%;object-fit: fill;" autoplay="autoplay" loop="loop">
										<source src="./video/04.mp4" type="video/mp4"></source>
									</video>
									<div style="position: absolute;bottom: 0;color: red;width: 100%;background-color: #93D1FF;">
										<div style="width: 16%;float: left;margin-left: 4%;"><img src="./images/minIcon_001.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_002.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_003.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_004.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_005.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_006.png"/></div>
									</div>
								</div>
								<div class="clearfix1" style="display: inline-block;float: left;width: 50%;height: 280px;background: url(./images/bj_01.png) no-repeat;background-size: 100% 100%;">
									<div class="clearfix" style="width: 56%;">
										<img src="./images/clxx_icon.png" style="width: 35px;height: 27px;margin-top: 5px;margin-left: 10%;float: left;"/>
										<span style="font-size: 1px;color: #0082FD;margin-top: 5px;float: left;">&nbsp;&nbsp;车辆信息</span>
									</div>
									<div class="videoItem">
										<img src="./images/video.png" style="width: 100%;height: 150%;"/>
									</div>
									<div style="margin-top: 10px;">
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">车牌:</span>
										<span style="font-size: 10px;color:#0082FD;">渝F300D5</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">颜色:</span>
										<span style="font-size: 10px;color:#0082FD;">白色</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">车型:</span>
										<span style="font-size: 10px;color:#0082FD;">小轿车</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">类别:</span>
										<span style="font-size: 10px;color:#0082FD;">临时停车</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">进入:</span>
										<span style="font-size: 10px;color:#0082FD;">2019.05.30 08.00</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">出去:</span>
										<span style="font-size: 10px;color:#0082FD;">2019.05.30 08.00</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">收费:</span>
										<span style="font-size: 10px;color:#0082FD;">12元</span>
									</div>
								</div>
							</div>
							<HR align=center width=100% color=#0082FD SIZE=1>
							<div class="clearfix" style="display: inline-block;margin-top: 10px;padding-left: 5%;padding-right: 5%;">
								<div class="video" style="display: inline-block;width: 45%;height: 280px;float: left;margin-right: 5%;position: relative;">
									<video style="width: 100%;height: 94%;object-fit: fill;" autoplay="autoplay" loop="loop">
										<source src="./video/04.mp4" type="video/mp4"></source>
									</video>
									<div style="position: absolute;bottom: 0;color: red;width: 100%;background-color: #93D1FF;">
										<div style="width: 16%;float: left;margin-left: 4%;"><img src="./images/minIcon_001.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_002.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_003.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_004.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_005.png"/></div>
										<div style="width: 16%;float: left;"><img src="./images/minIcon_006.png"/></div>
									</div>
								</div>
								<div class="clearfix1" style="display: inline-block;float: left;width: 50%;height: 280px;background: url(./images/bj_01.png) no-repeat;background-size: 100% 100%;">
									<div class="clearfix" style="width: 56%;">
										<img src="./images/clxx_icon.png" style="width: 35px;height: 27px;margin-top: 5px;margin-left: 10%;float: left;"/>
										<span style="font-size: 1px;color: #0082FD;margin-top: 5px;float: left;">&nbsp;&nbsp;车辆信息</span>
									</div>
									<div class="videoItem">
										<img src="./images/video.png" style="width: 100%;height: 150%;"/>
									</div>
									<div style="margin-top: 10px;">
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">车牌:</span>
										<span style="font-size: 10px;color:#0082FD;">渝F300D5</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">颜色:</span>
										<span style="font-size: 10px;color:#0082FD;">白色</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">车型:</span>
										<span style="font-size: 10px;color:#0082FD;">小轿车</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">类别:</span>
										<span style="font-size: 10px;color:#0082FD;">临时停车</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">进入:</span>
										<span style="font-size: 10px;color:#0082FD;">2019.05.30 08.00</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">出去:</span>
										<span style="font-size: 10px;color:#0082FD;">2019.05.30 08.00</span>
									</div>
									<div>
										<span style="font-size: 1px;color: #D2D2D2;margin-left: 10%;">收费:</span>
										<span style="font-size: 10px;color:#0082FD;">已缴费</span>
									</div>
								</div>
							</div>
						</div>
					</div>
					
				</div>
			</section>
		</div>
		
		<script >
		window.onload = function() {
			
			
			// 头部导航
			var navTops = document.getElementsByClassName('nav-top')
			for(var i = 0; i < navTops.length; i++) {
				navTops[i].index = i
				navTops[i].onclick = function() {
					for(var i = 0; i < navTops.length; i++) {
						navTops[i].classList.remove('active-icon')
					}
					this.classList.add('active-icon')
					window.location.href = this.dataset.href;
				}
			}
			
			
				initMapHeight() // 设置高时选择左右侧较高的一侧
				function initMapHeight() {
					var mainNode = document.getElementById('main')
					var allmap = document.getElementById('allmap')
					var rh = right.offsetHeight
					var lh = left.offsetHeight
					if(lh >= rh) {
						allmap.style.height = lh + 165 + 'px'
					} else {
						allmap.style.height = rh + 165 + 'px'
					}
				}
				
				
				/** 百度地图开始 踩坑1：百度地图必须放在vue之后，不然无法渲染数据 **/
				initMap()
				function initMap() {
					var point = new BMap.Point(106.374814,29.60782);
					var map = new BMap.Map("allmap",{minZoom:6,maxZoom:100,mapType:BMAP_HYBRID_MAP,enableMapClick:false});    // 创建Map实例
					map.centerAndZoom(point, 17);  // 初始化地图,设置中心点坐标和地图级别
					
					/**添加地图类型控件*/
					map.addControl(new BMap.MapTypeControl({
						mapTypes:[
							BMAP_NORMAL_MAP,
							BMAP_HYBRID_MAP
						]}));	  
					map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
					/**添加地图类型控件结束*/
					
					/*** 自定义控件*/
					addControlLeft();
					function addControlLeft() {
						// 定义一个控件类,即function
						function zoomControl() {
							// 默认停靠位置和偏移量
							this.defaultAnchor = BMAP_ANCHOR_TOP_LEFT;
							this.defaultOffset = new BMap.Size(20, 200);
						}
					
						// 集成Control类
						zoomControl.prototype = new BMap.Control();
						// 实现initialize方法
						zoomControl.prototype.initialize = function (map) {
							// 创建一个DOM元素
							var content = document.getElementById("left");
							
							// 添加DOM元素到地图中
							map.getContainer().appendChild(content);
							return content;
						}
						 // 创建控件
						var myZoomCtrl = new zoomControl();
						map.addControl(myZoomCtrl);
					}
					
					/*** 自定义控件*/
					addControlBottom();
					function addControlBottom() {
						// 定义一个控件类,即function
						function zoomControl() {
							// 默认停靠位置和偏移量
							this.defaultAnchor = BMAP_ANCHOR_BOTTOM_LEFT;
							var left = document.getElementById("left");
							var leftWidth = left.offsetWidth/24*26;
							this.defaultOffset = new BMap.Size(leftWidth, 150);
						}
					
						// 集成Control类
						zoomControl.prototype = new BMap.Control();
						// 实现initialize方法
						zoomControl.prototype.initialize = function (map) {
							// 创建一个DOM元素
							var content = document.getElementById("bottom");
							
							// 添加DOM元素到地图中
							map.getContainer().appendChild(content);
							return content;
						}
						 // 创建控件
						var myZoomCtrl = new zoomControl();
						map.addControl(myZoomCtrl);
					}
					
					/*** 自定义控件*/
					addControlRight();
					function addControlRight() {
						// 定义一个控件类,即function
						function zoomControl() {
							// 默认停靠位置和偏移量
							this.defaultAnchor = BMAP_ANCHOR_BOTTOM_RIGHT;
							this.defaultOffset = new BMap.Size(20, 40);
						}
					
						// 集成Control类
						zoomControl.prototype = new BMap.Control();
						// 实现initialize方法
						zoomControl.prototype.initialize = function (map) {
							// 创建一个DOM元素
							var content = document.getElementById("right");
							
							// 添加DOM元素到地图中
							map.getContainer().appendChild(content);
							return content;
						}
						 // 创建控件
						var myZoomCtrl = new zoomControl();
						map.addControl(myZoomCtrl);
					}
					
					addTitle(); // 顶部控件
				    function addTitle(e,x,y) {
						function zoomControl() {
						  this.defaultAnchor = BMAP_ANCHOR_TOP_RIGHT;
						  this.defaultOffset = new BMap.Size(0, 0);
						}
				
						// 集成Control类
						zoomControl.prototype = new BMap.Control();
						// 实现initialize方法
						zoomControl.prototype.initialize = function (map) {
						  // 创建一个DOM元素
						  var div = document.getElementById("header");
				
						  // 添加DOM元素到地图中
						  map.getContainer().appendChild(div);
						  return div;
						}
						// 创建控件
						var myZoomCtrl = new zoomControl();
						map.addControl(myZoomCtrl);
					  }// 自定义控件添加完成
					/** 自定义控件结束 **/
					
					/** 添加圆形遮罩 */
					var circle = new BMap.Circle(point,5000000,{strokeColor:"blue", fillColor: "#0c1e46", fillOpacity: 0.5,strokeWeight:2, strokeOpacity:0.5});
					map.addOverlay(circle);            //增加圆
					circle.disableMassClear() //禁止清除
					/** 添加圆形遮罩结束 */
					
					var opts = {
						width:320,     // 信息窗口宽度
						height: 170,     // 信息窗口高度
						enableMessage: true//设置允许信息窗发送短息
					};
					var opts1 = {
						width:320,     // 信息窗口宽度
						height: 250,     // 信息窗口高度
						enableMessage: true//设置允许信息窗发送短息
					};
					
					function Obj(point, str, label, icon) {
						this.point = point;
						this.str = str;
						this.label = label;
						this.icon = icon;
					}
					
					/** 模板1 */
					function tlp1(d) {
						return '<div id="moban" style ="width:298px;height:133px; padding: 25px 10px 10px 10px;position: absolute;bottom: 0;left:0px; border: 1px solid #00d585;border-radius:10px;">' +
							'<table style="color: #fff; font-size: 14px; margin-left: 20px">' +
							'<tr><td>异常简述：</td><td id="errsValue">'+d.name+'</td></tr>' +
							'<tr><td>上报设备：</td><td>'+d.name+'</td></tr>' +
							'<tr><td>发生时间：</td><td>'+d.name+'</td></tr>' +
							'</table>' +
							'</div>'
					}
					/** 模板2 */
					function tlp2(d) {
						return '<div id="moban" style ="width:298px;height:213px; padding: 25px 10px 10px 10px;position: absolute;bottom: 0;left:0px;border: 1px solid #fd9d02;border-radius:10px;">' +
							'<table style="color: #fff; font-size: 14px; margin-left: 20px">' +
							'<tr><td>异常简述：</td><td id="errsValue">'+d.name+'</td></tr>' +
							'<tr><td>上报设备：</td><td>'+d.name+'</td></tr>' +
							'<tr><td>发生时间：</td><td>'+d.name+'</td></tr>' +
							'</table>' +
							'</div>'
					}
					
					//创建自定义覆盖物图标
					var myIcon = new BMap.Icon("./images/mapIcon/combustible_gas2.png", new BMap.Size(50,50));
					var myIcon1 = new BMap.Icon("./images/mapIcon/guard_people2.png", new BMap.Size(50,50));
					
					var d = {
						id : 1,
						name: '模板测试1'
					}
					var d1 = {
						id : 2,
						name: '模板测试2'
					}
					
					var info = document.getElementById('info')
					var ddd = document.getElementById('ddd')
					var data_1 = [];
					data_1.push(new Obj(point, tlp1(d), "", myIcon));
					addMarker(data_1,opts)
					
					var marker2 = new BMap.Marker(new BMap.Point(106.377814,29.60782),{icon:myIcon1});  // 创建标注
					map.addOverlay(marker2);
					// marker2.setAnimation(BMAP_ANIMATION_BOUNCE); //跳动的动画
					addClickHandler(tlp2(d1), marker2, opts1);
					
					 //批量添加Marker并添加显示框
					 function addMarker(data_info, opts) {
						for (var i = 0; i < data_info.length; i++) {
						  var marker = new BMap.Marker(data_info[i].point);
						  marker.setIcon(data_info[i].icon);
						  var content = data_info[i].str;
						  if (data_info[i].label) {
							marker.setLabel(new BMap.Label(data_info[i].label, {offset: new BMap.Size(20, -10)}));
						  }
						  map.addOverlay(marker);
						  marker.setAnimation(BMAP_ANIMATION_BOUNCE)
						  addClickHandler(content, marker, opts);
						}
					  }
				
					  function addClickHandler(content, marker, opts) {
						marker.addEventListener("click", function (e) {
							openInfo(content, e, opts)
						  }
						);
					  }
				
					  function openInfo(content, e, opts) {
						var p = e.target;
						var point = new BMap.Point(p.getPosition().lng, p.getPosition().lat);
						var infoWindow = new BMap.InfoWindow(content, opts);  // 创建信息窗口对象
						p.openInfoWindow(infoWindow, point); //开启信息窗口
						map.panTo(point, true)
					  }
					  
				}
				/** 百度地图结束 **/
			
			
			function initOption3(value1,value2,conten1,myTable,color2,color1){
					var myChart3 = echarts.init(myTable);
					var option3 = {
						tooltip: {},
						color:[color1, color2],
						graphic: {
							type: 'text',
							left: '35%',
							top: '40%',
							style: {
								text: [
								'   '+
									value2+'%',
									'   '+conten1
								].join('\n'),
								textAlign: 'center',
								fill: '#cccccc',
								font: '10px "STHeiti", sans-serif'
							}
						},
						series: [
							{
								// name:'',
								type:'pie',
								radius: ['50%', '95%'],
								avoidLabelOverlap: false,
								label: {
									normal: {
										show: false,
										position: 'center'
									},
									emphasis: {
										show: true,
										textStyle: {
											fontSize: '30',
											fontWeight: 'bold'
										}
									}
								},
								data:[
									{value: value1},
									{value: value2}
								]
							}
						]
					};
					myChart3.setOption(option3);
				}
				var myTable3 = document.getElementById("myTable3");
				var myTable4 = document.getElementById("myTable4");
				var myTable5 = document.getElementById("myTable5");
				var myTable6 = document.getElementById("myTable6");
				initOption3(25,75,"运行",myTable3,'#FE9D01', '#553F27');
				initOption3(85,15,"待机",myTable4, '#095E73', '#01FFFF',);
				initOption3(92,8,"故障",myTable5, '#0082FE', '#093773',);
				initOption3(95,5,"维修",myTable6, '#4DA7FD', '#1E4070',);
			}
		
		
		
		var vm;
		initVue()
		function initVue() {
			// 字符串转时间过滤器
			Vue.filter('dateStr', function (timestamp) {
				var d = new Date(timestamp );    //根据时间戳生成的时间对象
				var date =
					(d.getMonth() + 1) + "-" +
					(d.getDate()) + " " +
					(d.getHours()) + ":" +
					(d.getMinutes()) + ":" +
					(d.getSeconds());
				return date
			})
			vm = new Vue({
				el: '#main',
				data: {
					events: [],
				},
				methods: {
					fullScreen() {
						var el = document.documentElement;
						var rfs = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullscreen;
						if(typeof rfs != "undefined" && rfs) {
							rfs.call(el);
						}else{
							getMsg("浏览器不支持全屏调用，请使用其他浏览器或按F11键切换全屏！");
							return;
						}
					}
				},
				
				// 钩子函数
				mounted: function () {
				
				},
				// 监听属性
				watch: {
					
				}
			});
				
		}
		
		/** ******************************* Vue完 ***************************************/
	
		</script>
	</body>
</html>
